services:
  jenkins:
    charm: "cs:~kos.tsakalozos/jenkins"
    options:
      plugins: "ghprb github bouncycastle-api credentials display-url-api git-client git github-api junit mailer matrix-project workflow-scm-step workflow-step-api plain-credentials scm-api script-security ssh-credentials structs token-macro ssh-agent javadoc antisamy-markup-formatter postbuildscript maven-plugin windows-slaves icon-shim matrix-auth"
    num_units: 1
    annotations:
      gui-x: "500"
      gui-y: "800"
    to:
      - "0"
  juju-ci-env:
    charm: "cs:~kos.tsakalozos/juju-ci-env"
    annotations:
      gui-x: "500"
      gui-y: "0"
  review-queue:
    charm: "cs:~juju-solutions/review-queue"
    num_units: 1
    annotations:
      gui-x: "0"
      gui-y: "400"
    to:
      - "1"
  postgresql:
    charm: "cs:postgresql"
    options:
      version: '9.4'
      pgdg: true
    num_units: 1
    annotations:
      gui-x: "0"
      gui-y: "400"
    to:
      - "1"
  rabbitmq:
    charm: "cs:rabbitmq-server"
    num_units: 1
    annotations:
      gui-x: "0"
      gui-y: "400"
    to:
      - "1"
series: xenial
relations:
  - [juju-ci-env, jenkins]
  - ["review-queue:db", "postgresql:db"]
  - [review-queue, rabbitmq]
machines:
  "0":
    constraints: "mem=7G"
    series: "xenial"
  "1":
    constraints: "mem=7G"
    series: "xenial"
